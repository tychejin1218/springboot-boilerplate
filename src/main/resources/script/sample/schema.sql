/*
CREATE DATABASE sample;

CREATE USER sample PASSWORD 'password1!' SUPERUSER CREATEDB;
*/

DROP TABLE IF EXISTS TODO;

DROP TABLE IF EXISTS MEMBER;

CREATE TABLE MEMBER (
    ID INT GENERATED ALWAYS AS IDENTITY,
    NAME VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100) NOT NULL,
    PRIMARY KEY(ID)
);

CREATE TABLE TODO (
    ID INT GENERATED ALWAYS AS IDENTITY,
    MEMBER_ID INT NOT NULL,
    TITLE VARCHAR(255),
    DESCRIPTION VARCHAR(255),
    COMPLETED BOOLEAN,
    PRIMARY KEY(ID),
    CONSTRAINT FK_TODO
        FOREIGN KEY(MEMBER_ID)
            REFERENCES MEMBER(ID)
            ON DELETE SET NULL
);
